{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAASC,SAASC,cAAc,SAEtCF,EAAOG,iBAAiB,UASxB,SAAqBC,GACnBA,EAAEC,iBAKJ,WACE,I,kBACE,IAAIC,GAASC,EAAKD,OAASC,EAAKC,MAAQD,EAAKC,KAG7CC,YAAW,YAMf,SAAuBC,EAAUJ,GAC/B,IAAMK,EAAgBC,KAAKC,SAAW,IACjCP,GAASI,IAAa,EAiB7B,SAAoBA,EAAUJ,GAC5BR,EAAAgB,OAAOC,KAAK,YAAyBC,OAAbV,EAAM,SAAgBU,OAATN,EAAS,2BAjB5CO,CAAWP,EAAUJ,GACZK,EAOb,SAAsBD,EAAUJ,GAC9BR,EAAAgB,OAAOI,QAAQ,sBAAqCF,OAAfN,EAAS,QAAYM,OAANV,EAAM,QAPxDa,CAAaT,EAAUJ,GAU3B,SAAuBI,EAAUJ,GAC/BR,EAAAgB,OAAOM,QAAQ,oBAAmCJ,OAAfN,EAAS,QAAYM,OAANV,EAAM,QATtDe,CAAcX,EAAUJ,GAZtBgB,CAAcC,EAAGjB,KAChBA,IANIkB,EAAI,EAAGA,GAAKjB,EAAKkB,OAAQD,GAAK,EAACE,EAAAF,GALxCG,GACAvB,EAAEwB,cAAcC,WAXlB7B,EAAOG,iBAAiB,SAIxB,SAAiBC,GACfG,EAAKH,EAAE0B,OAAOC,MAAQC,OAAO5B,EAAE0B,OAAOG,UAHxC,IAAI1B,EAAO,G","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst formEl = document.querySelector('.form');\n\nformEl.addEventListener('submit', onSubmitBtn);\nformEl.addEventListener('input', onInput);\n\nlet data = {};\n\nfunction onInput(e) {\n  data[e.target.name] = Number(e.target.value);\n}\n\nfunction onSubmitBtn(e) {\n  e.preventDefault();\n  promiseLoop();\n  e.currentTarget.reset();\n}\n\nfunction promiseLoop() {\n  for (let i = 1; i <= data.amount; i += 1) {\n    let delay = (data.delay += data.step) - data.step;\n      \n\n    setTimeout(() => {\n      createPromise(i, delay);\n    }, delay);\n  }\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  if ((delay || position) <= 0  ) {\n    notiFyInfo(position, delay);\n  } else if (shouldResolve) {\n    notiFySucces(position, delay);\n  } else {\n    notiFyFailure(position, delay);\n  } \n}\n\nfunction notiFySucces(position, delay) {\n  Notify.success(`Fullfilled promise ${position} in ${delay} ms`);\n}\n\nfunction notiFyFailure(position, delay) {\n  Notify.failure(`Rejected promise ${position} in ${delay} ms`);\n}\n\nfunction notiFyInfo(position, delay) {\n  Notify.info(`the time ${delay} and ${position} ms cannot be negative`);\n}\n\n"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$formEl","document","querySelector","addEventListener","e","preventDefault","delay","$ce04d3a99e08e73b$var$data","step","setTimeout","position","shouldResolve","Math","random","Notify","info","concat","$ce04d3a99e08e73b$var$notiFyInfo","success","$ce04d3a99e08e73b$var$notiFySucces","failure","$ce04d3a99e08e73b$var$notiFyFailure","$ce04d3a99e08e73b$var$createPromise","i","i1","amount","_loop","$ce04d3a99e08e73b$var$promiseLoop","currentTarget","reset","target","name","Number","value"],"version":3,"file":"03-promises.f7bdf2fa.js.map"}