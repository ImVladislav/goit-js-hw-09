{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAASC,SAASC,cAAc,SAEtCF,EAAOG,iBAAiB,UASxB,SAAqBC,GACnBA,EAAEC,iBAIJ,WACE,IAAK,IAAIC,EAAI,EAAGA,GAAKC,EAAKC,OAAQF,GAAK,EAAG,CACxC,IAAIG,GAASF,EAAKE,OAASF,EAAKG,MAAQH,EAAKG,KACxCC,EAAgBF,EACrB,IAAKA,GAASH,IAAM,EAAI,CACtBM,IACD,MAECC,YAAW,KACTC,EAAcR,EAAGG,KAChBE,IAbPI,GACAX,EAAEY,cAAcC,WAXlBjB,EAAOG,iBAAiB,SAIxB,SAAiBC,GACfG,EAAKH,EAAEc,OAAOC,MAAQC,OAAOhB,EAAEc,OAAOG,UAHxC,IAAId,EAAO,GAyBX,SAASO,EAAcQ,EAAUb,GACTc,KAAKC,SAAW,GAQxC,SAAsBF,EAAUb,GAC9BX,EAAA2B,OAAOC,QAAQ,sBAAsBJ,QAAeb,QAPlDkB,CAAaL,EAAUb,GAU3B,SAAuBa,EAAUb,GAC/BX,EAAA2B,OAAOG,QAAQ,oBAAoBN,QAAeb,QAThDoB,CAAcP,EAAUb,GAY5B,SAASG,IACPd,EAAA2B,OAAOK,KAAK","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst formEl = document.querySelector('.form');\n\nformEl.addEventListener('submit', onSubmitBtn);\nformEl.addEventListener('input', onInput);\n\nlet data = {};\n\nfunction onInput(e) {\n  data[e.target.name] = Number(e.target.value);\n}\n\nfunction onSubmitBtn(e) {\n  e.preventDefault();\n  promiseLoop();\n  e.currentTarget.reset();\n}\nfunction promiseLoop() {\n  for (let i = 1; i <= data.amount; i += 1) {\n    let delay = (data.delay += data.step) - data.step;\n     let positiveDelay = delay;\n    if ((delay || i) <= 0 ) {\n      notiFyInfo();\n     break \n    } \n      setTimeout(() => {\n        createPromise(i, delay);\n      }, positiveDelay);\n  }\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  if (shouldResolve) {\n    notiFySucces(position, delay);\n  } else {\n    notiFyFailure(position, delay);\n  } \n}\n\nfunction notiFySucces(position, delay) {\n  Notify.success(`Fullfilled promise ${position} in ${delay} ms`);\n}\n\nfunction notiFyFailure(position, delay) {\n  Notify.failure(`Rejected promise ${position} in ${delay} ms`);\n}\n\nfunction notiFyInfo() {\n  Notify.info('values must be positive');\n}\n\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$formEl","document","querySelector","addEventListener","e","preventDefault","i","$47d4ff9957288465$var$data","amount","delay","step","positiveDelay","$47d4ff9957288465$var$notiFyInfo","setTimeout","$47d4ff9957288465$var$createPromise","$47d4ff9957288465$var$promiseLoop","currentTarget","reset","target","name","Number","value","position","Math","random","Notify","success","$47d4ff9957288465$var$notiFySucces","failure","$47d4ff9957288465$var$notiFyFailure","info"],"version":3,"file":"03-promises.29fec5ae.js.map"}